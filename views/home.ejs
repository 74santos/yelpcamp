<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="/stylesheets/app.css" />
    <title>YelpCamp</title>
  </head>
  <body>
    <%- include('partials/navbar') %>

    <!-- Hero Section -->
    <section class="hero position-relative text-white d-flex align-items-center justify-content-center" style="height: 100vh; overflow: hidden;">
      <!-- Background Video -->
      <video id="heroVideo" autoplay muted playsinline class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover">
        <source src="/videos/hero-bg.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    
      <!-- Fade overlay -->
      <div id="fadeOverlay" class="position-absolute top-0 start-0 w-100 h-100 bg-black" style="opacity:1; transition: opacity 1s ease-in-out; pointer-events:none;"></div>
    
      <!-- Content -->
      <div class="content text-center position-relative z-1 bg-dark bg-opacity-50 p-5 rounded">
        <h1 class="display-3 fw-bold text-shadow" style="text-shadow: 1px 4px 4px #131313;">Explore the Great Outdoors</h1>
        <p class="lead mb-4">Discover and share the best campgrounds around the world</p>
        <a href="/campgrounds" class="btn btn-lg btn-outline-light px-4 py-2">View Campgrounds</a>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-light">
      <div class="container">
        <div class="row text-center">
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="100">
            <i class="bi bi-map display-4 text-primary"></i>
            <h4 class="fw-bold mt-3">Find Campgrounds</h4>
            <p class="text-muted">
              Browse thousands of campgrounds with detailed maps and reviews.
            </p>
          </div>
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="200">
            <i class="bi bi-camera display-4 text-success"></i>
            <h4 class="fw-bold mt-3">Share Photos</h4>
            <p class="text-muted">
              Upload your favorite photos and memories from your camping
              adventures.
            </p>
          </div>
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="300">
            <i class="bi bi-star display-4 text-warning"></i>
            <h4 class="fw-bold mt-3">Leave Reviews</h4>
            <p class="text-muted">
              Help others by sharing your experiences and ratings.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="py-5 bg-primary text-white text-center">
      <div class="container" data-aos="fade-in">
        <h2 class="mb-3">Ready to share your favorite campsite?</h2>
        <p class="lead mb-4">
          Join the community of explorers and contribute to our growing list of
          campgrounds.
        </p>
        <a href="/campgrounds/new" class="btn btn-outline-light btn-lg"
          >Add a Campground</a
        >
      </div>
    </section>

    <%- include('partials/footer') %>

    <!-- Bootstrap JS Bundle (optional, for dropdowns, modals, etc.) -->
    <!-- JS (no integrity check) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 1000,
        once: true,
      });
    </script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const video = document.getElementById("heroVideo");
    const overlay = document.getElementById("fadeOverlay");
    const FADE_DURATION = 1000; // ms

    if (!video || !overlay) return;

    // Initial fade-in when video starts playing
    video.addEventListener("play", () => {
      overlay.style.opacity = "0";
    });

    // Fade out 1s before video ends
    video.addEventListener("timeupdate", () => {
      if (video.duration - video.currentTime <= 1) {
        overlay.style.opacity = "1";
      }
    });

    // Restart video and fade in overlay
    video.addEventListener("ended", () => {
      video.currentTime = 0;
      video.play();
      setTimeout(() => {
        overlay.style.opacity = "0";
      }, FADE_DURATION);
    });
  });
</script>


  </body>
</html>
